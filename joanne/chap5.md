# chap5. 컴포넌트 스캔

## 컴포넌트 스캔이란?
컴포넌트 스캔은 스프링이 직접 클래스를 검색해서 빈으로 등록해주는 기능이다.
설정 클래스에 빈으로 등록하지 않아도 원하는 클래스를 빈으로 등록할 수 있으므로 컴포넌트 스캔을 이용하면 설정 코드를 줄일 수 있다.
이 때, `@Component` 어노테이션을 붙여야 컴포넌트 스캔의 대상이 된다.
`@Component`로 등록 시, 옵션으로 빈 이름을 직접 입력할 수 있다. 
직접 이름을 등록하지 않는 경우에는 해당 클래스의 맨 앞글자를 소문자로 바꾼 이름이 빈의 이름으로 등록된다.

```
ex. MemberDao -> memberDao 로 등록된다.
```

`@ComponentScan` 애노테이션으로 스캔을 설정할 수 있다. 이는 즉, 위에서 `@Component` 어노테이션을 붙인 클래스를 스캔해서 스프링 빈으로 등록하기 위해 사용한다.
설정 클래스에 `@ComponentScan(basePackages={"spring"}`과 같이 작성하면, spring의 모든 하위패키지에서 `@Component` 어노테이션이 붙은 모든 클래스를
빈으로 등록한다는 의미를 갖는다. 이때 `excludeFiles=@Filter(type=FilterType.XXX, ...)`와 같이 excludeFiles를 이용해 제외할 파일을 등록할 수 있다.


## 컴포넌트 스캔의 대상이 되는 어노테이션
- `@Component`
- `@Controller`
- `@Service`
- `@Repository`
- `@Aspect`
- `@Configuration`

이들은 모두 `@Component` 어노테이션에 대한 특수 어노테이션들이다.

## 컴포넌트 스캔 시 충돌
컴포넌트 스캔 시 충돌이 발생할 수 있다.
먼저, 수동 등록한 빈의 이름과 컴포넌트 스캔을 통해 등록한 빈의 이름이 다른 경우에는 둘 모두가 빈으로 등록된다.
다음으로, 수동 등록한 빈의 이름과 컴포넌트 스캔을 통해 동일한 이름의 빈을 등록하는 경우에는 수동 등록한 빈이 우선한다. 
마지막으로, 서로 다른 패키지에서 동일한 이름을 가진 빈을 등록하려고 하는 경우에는 `타입이 일치하지 않는 빈 이름과 충돌이 발생한다.`는 오류가 발생한다.
이 경우에는 서로 다른 이름으로 등록될 수 있도록 변경해주어야한다.

